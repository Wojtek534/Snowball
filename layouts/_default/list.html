{{ define "main"}}
    <div class="article-list">
        {{if eq .Type "tags"}}
            {{ $tagSlice := slice .Name }}
            {{- $pages := (where .Site.RegularPages "Params.tags" "intersect" $tagSlice).ByDate.Reverse }}
            {{- $paginator := .Paginate $pages }}
            <div class="article-list__pagination">
                {{partial "pagination.html"
                (dict "context" . "pages" $pages "paginator" $paginator)}}
            </div>
            {{ with $paginator }}
            {{ range $index, $page := .Pages}}
                    {{ partial "article.html"
                    (dict "context" . "IsSingle" false)}}
                {{ end }}
            {{ end }}
        {{else}}
            {{- $pages := (where .Site.RegularPages "Params.type" .Type).ByDate.Reverse }}
            {{- $paginator := .Paginate $pages }}
            <div class="article-list__pagination">
                {{partial "pagination.html"
                (dict "context" . "pages" $pages "paginator" $paginator)}}
            </div>
            {{ with $paginator }}
            {{ range $index, $page := .Pages}}
                    {{ partial "article.html"
                    (dict "context" . "IsSingle" false)}}
                {{ end }}
            {{ end }}
        {{end}}
    </div>
{{end}}